package main.java.Utils;

import static org.testng.Assert.fail;

import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;
import java.util.HashMap;
import java.util.Map;
import java.util.Properties;
import java.util.ResourceBundle;
import java.util.logging.Logger;

import org.testng.annotations.BeforeClass;

import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.sun.jna.platform.win32.Netapi32Util.User;

import main.java.Utils.APITestConfig;
 
/** 
 * @author a619786 Retrieve Test Data method will read the JSON Format test data
 *  and store in the map
 */

public class RetrieveSQLQuery {

	public static Logger log = Logger.getLogger(APITestConfig.class.getName());

	public static Map<String, Object> SqlQueries;
			
	@BeforeClass
	
	public static void GetData() {
		
		System.out.println("sqlqueries");
		//System.out.println(System.getProperty("user.dir")+"\\resources\\SQLQueries.properties");
		
		System.out.println(System.getenv("LOG_DIR"));
		try {
			
			ObjectMapper mapper = new ObjectMapper();
			JsonNode node;
			node = mapper.readTree(new File("resources/SQLQueries.properties"));
			//node = mapper.readTree(System.getProperty("user.dir")+"\\resources\\SQLQueries.properties");			
			System.out.println(node);
			SqlQueries = mapper.readValue(node.get("SqlQueries").toString(),
					new TypeReference<Map<String, Object>>() {});
			System.out.println(SqlQueries);
			
		} catch (Exception e) {
			fail("Exception", e);
		}
		
	}
		
}
